# 交互设计规范

## 核心评审维度

交互可用性验证基于以下5个核心维度进行检查：

### 1. 功能入口 - 用户认知模型匹配度

#### 检查要点
- 功能入口的位置是否符合用户预期？
- 入口的视觉呈现是否清晰可识别？
- 用户能否快速找到想要的功能？
- 入口标签/图标的含义是否明确？

#### 常见问题
- ❌ 主要功能隐藏在深层菜单中
- ❌ 入口图标语义不明，需要猜测含义
- ❌ 同类功能分散在不同位置
- ❌ 入口标签使用专业术语而非用户语言

#### 最佳实践
- ✅ 高频功能放在一级导航或首屏位置
- ✅ 使用通用图标配合文字说明
- ✅ 功能分组遵循用户心智模型
- ✅ 使用用户熟悉的语言命名

### 2. 操作路径 - 心智模型与断点检测

#### 检查要点
- 操作流程是否符合用户的自然思考方式？
- 任务完成路径是否连贯，有无断点或跳转混乱？
- 步骤数量是否合理，有无冗余操作？
- 关键操作是否可逆或可修改？

#### 常见问题
- ❌ 流程步骤与用户预期顺序不符
- ❌ 中途需要跳转到其他页面再返回
- ❌ 重复输入已填写过的信息
- ❌ 误操作后无法撤销或修改

#### 最佳实践
- ✅ 流程步骤遵循「输入 → 确认 → 完成」模式
- ✅ 保持任务流程的连贯性
- ✅ 提供明确的步骤指示器（如 1/3, 2/3, 3/3）
- ✅ 支持返回上一步修改信息

### 3. 交互一致性 - 平台规范符合度

#### 检查要点
- 交互模式是否符合iOS HIG / Android Material Design？
- 相同类型的操作是否采用一致的交互方式？
- 手势操作是否与平台惯例一致？
- 控件使用是否符合平台标准？

#### 平台规范参考

##### iOS Human Interface Guidelines
- 触摸目标最小尺寸：44x44 points
- 导航栏返回按钮位于左上角
- 使用标准系统控件（UIKit/SwiftUI）
- 支持侧滑返回手势
- 卡片式Sheet呈现模态内容

##### Android Material Design
- 触摸目标最小尺寸：48x48 dp
- Floating Action Button用于主要操作
- Bottom Sheet用于次要操作集合
- 使用Material Components
- Snackbar用于轻量级反馈

#### 常见问题
- ❌ 按钮尺寸小于平台最小要求
- ❌ 自定义控件与系统控件行为不一致
- ❌ 相同操作在不同页面使用不同交互方式
- ❌ 覆盖或禁用系统标准手势

### 4. 状态反馈 - 操作确认充分度

#### 检查要点
- 操作后是否有明确的状态反馈？
- 加载、成功、失败等状态是否清晰展示？
- 破坏性操作是否有二次确认？
- 进度信息是否透明可预期？

#### 反馈时机要求

| 操作类型 | 反馈要求 |
|----------|----------|
| 即时操作（< 1秒） | 状态即时切换 |
| 短时操作（1-3秒） | 显示加载指示器 |
| 长时操作（> 3秒） | 显示进度条+预计时间 |
| 破坏性操作 | 二次确认对话框 |

#### 反馈类型

| 类型 | 展示方式 | 持续时间 |
|------|----------|----------|
| 成功 | 绿色Toast/Snackbar | 3秒自动消失 |
| 错误 | 红色Toast + 具体原因 | 用户主动关闭 |
| 警告 | 橙色Toast/Snackbar | 5秒自动消失 |
| 加载中 | Spinner/Progress Bar | 直到完成 |

#### 常见问题
- ❌ 点击按钮后无任何反馈
- ❌ 加载过程无进度指示
- ❌ 删除操作无确认直接执行
- ❌ 错误提示语义不明（如"操作失败"）

### 5. 认知负荷 - 复杂度控制

#### 检查要点
- 单页面/单步骤的信息量是否过载？
- 选项和决策点是否过多？
- 是否存在记忆负担过重的设计？
- 术语和标签是否易于理解？

#### 认知负荷阈值

| 指标 | 建议阈值 | 说明 |
|------|----------|------|
| 单页面按钮数 | ≤ 5个 | 主按钮1个，次要按钮≤2个 |
| 单页面输入框数 | ≤ 7个 | 超过7个应分步骤 |
| 导航层级深度 | ≤ 3层 | 深层功能考虑快捷入口 |
| 单次决策选项数 | ≤ 7个 | 遵循Miller's Law |

#### 常见问题
- ❌ 单页面堆砌过多功能和信息
- ❌ 要求用户记忆前序信息
- ❌ 使用专业术语而非用户语言
- ❌ 同时展示过多决策选项

#### 最佳实践
- ✅ 渐进式披露，按需展示信息
- ✅ 合理分组，使用视觉分割
- ✅ 提供智能默认值减少决策
- ✅ 复杂流程分步骤引导

---

## 风险等级判定标准

| 等级 | 标准 | 典型示例 |
|------|------|----------|
| 🔴 **高** | 严重阻碍用户完成核心任务 | 关键按钮不可点击、流程断裂无法继续、无法提交表单 |
| 🟡 **中** | 增加用户困惑或操作成本 | 入口位置不符合预期、缺少状态反馈、需要多次尝试 |
| 🟢 **低** | 影响体验但不阻碍任务完成 | 文案不够清晰、动效缺失、细节不够精致 |

---

## 触摸目标尺寸规范

### 最小尺寸要求

| 平台 | 最小尺寸 | 规范来源 |
|------|----------|----------|
| iOS | 44x44 points | Apple Human Interface Guidelines |
| Android | 48x48 dp | Material Design |
| 通用建议 | 48x48 pt/dp | 综合最佳实践 |

### 间距要求

- 相邻可点击元素之间至少保持 8pt 间距
- 高优先级操作按钮至少 56x56 pt

---

## 输入框设计规范

### 标签和提示
- 使用浮动标签（Float Label）提升空间利用
- 占位符文字与输入文字颜色对比度 >= 4.5:1
- 错误提示应紧邻输入框下方，红色文字

### 密码输入
- ✅ 必须提供"显示/隐藏密码"切换按钮
- 图标通常为眼睛图标（👁️）
- 位置：输入框右侧内部

### 输入验证
- 实时验证（输入时或失焦时）
- 明确告知错误原因
- 提供修正建议

---

## 手势操作规范

### 常用手势

| 手势 | 用途 | 注意事项 |
|------|------|----------|
| 点击 | 选择/激活 | 提供触摸反馈 |
| 长按 | 显示上下文菜单 | 需要引导提示 |
| 滑动 | 列表滚动、页面切换 | 避免冲突 |
| 捏合 | 缩放（地图、图片） | 限定特定场景 |
| 下拉 | 刷新列表 | 显示刷新指示器 |

### 手势冲突预防
- 避免在同一区域定义冲突的手势
- 优先保留系统手势（如返回滑动）
- 自定义手势需要提供视觉引导

---

## 可访问性要求

### 颜色对比度（WCAG 2.1）

| 元素类型 | 最低对比度 |
|----------|------------|
| 正文文字 | 4.5:1 (AA级) |
| 大字体(18pt+) | 3:1 |
| 交互元素 | 3:1 |

### 屏幕阅读器支持
- 所有交互元素必须有 accessibilityLabel
- 图片必须有 alt text
- 复杂组件提供 accessibility hints
- 确保焦点顺序合理

---

## 错误预防设计

### 确认对话框
- 破坏性操作（删除、清空）必须二次确认
- 确认按钮用红色强调
- 提供撤销选项（如果可能）
- 明确告知操作后果

### 表单设计
- 重要表单自动保存草稿
- 提供明确的必填标识
- 离开页面前提醒保存
- 支持撤销最近的操作
